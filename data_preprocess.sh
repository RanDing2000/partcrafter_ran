IN_ROOT="${1:-/data3/ran/objaverse_filtered/dataset/hf-objaverse-v1/glbs}"
OUT_ROOT="${2:-/data3/ran/PartCrafter/preprocessed_data}"
mkdir -p "$OUT_ROOT"

for d in \
  000-000 000-001 000-002 000-003 000-004 000-005 000-006 000-007 000-008 000-009 \
  000-010 000-011 000-012 000-013 000-014 000-015 000-016 000-017 000-018 000-019 \
  000-020 000-021 000-022 000-023 000-024 000-025 000-026 000-027 000-028 000-029 \
  000-030 000-031 000-032 000-033 000-034 000-035 000-036 000-037 000-038 000-039 \
  000-040 000-041 000-042 000-043 000-044 000-045 000-046 000-047 000-048 000-049 \
  000-050 000-051 000-052 000-053 000-054 000-055 000-056 000-057 000-058 000-059 \
  000-060 000-061 000-062 000-063 000-064 000-065 000-066 000-067 000-068 000-069 \
  000-070 000-071 000-072 000-073 000-074 000-075 000-076 000-077 000-078 000-079 \
  000-080 000-081 000-082 000-083 000-084 000-085 000-086 000-087 000-088 000-089 \
  000-090 000-091 000-092 000-093 000-094 000-095 000-096 000-097 000-098 000-099 \
  000-100 000-101 000-102 000-103 000-104 000-105 000-106 000-107 000-108 000-109 \
  000-110 000-111 000-112 000-113 000-114 000-115 000-116 000-117 000-118 000-119 \
  000-120 000-121 000-122 000-123 000-124 000-125 000-126 000-127 000-128 000-129 \
  000-130 000-131 000-132 000-133 000-134 000-135 000-136 000-137 000-138 000-139 \
  000-140 000-141 000-142 000-143 000-144 000-145 000-146 000-147 000-148 000-149 \
  000-150 000-151 000-152 000-153 000-154 000-155 000-156 000-157 000-158 000-159
do
  python datasets/preprocess/preprocess.py --input "$IN_ROOT/$d" --output "$OUT_ROOT"
done
